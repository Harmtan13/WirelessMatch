<h1>Edit Plan</h1>

<%= form_for(@plan) do |f| %>
  <% if @plan.errors.any? %>
    <% @plan.errors.full_messages.each do |error| %>
      <%= alert_generator(error) %>
    <% end %>
  <% end %>
      
  <div class="form-group">
    <div><%= f.label :auto_pay, "Carriers give discounts for enrolling in Auto-Pay, Do you want to enroll?"%></div>
    <span><%= f.radio_button :auto_pay, true, checked: true %> Yes</span>
    <span><%= f.radio_button :auto_pay, false %> No</span>
  </div>
  <br>
  <ul>
    <%= f.fields_for :user_lines do |line| %>
        <b><u><%= "Line-#{line.index.to_i + 1}"%></u></b>
        <br>
        <br>
      <li>
        <div><%= line.label :data_amount, "How much data does this line need?" %></div>
          <span><%= line.radio_button :data_amount, 1.0 %> 1GB</span> |
          <span><%= line.radio_button :data_amount, 2.0 %> 2GB</span> |
          <span><%= line.radio_button :data_amount, 4.0 %> 4GB</span> |
          <span><%= line.radio_button :data_amount, 5.0 %> 5GB</span> |
          <span><%= line.radio_button :data_amount, 8.0 %> 8GB</span> |
          <span><%= line.radio_button :data_amount, 10.0 %> 10GB</span> |
          <span><%= line.radio_button :data_amount, 20.0 %> 20GB</span> |
          <span><%= line.radio_button :data_amount, Float::INFINITY %> Unlimited</span>
      </li>
        <br>
      <li>
        <div><%= line.label :hotspot, "Of that data, about how much is hotspot use?" %></div>
          <span><%= line.radio_button :hotspot, 0.0 %> None</span> |
          <span><%= line.radio_button :hotspot, 1.0 %> 1GB</span> |
          <span><%= line.radio_button :hotspot, 5.0 %> 5GB</span> |
          <span><%= line.radio_button :hotspot, 10.0 %> 10GB</span> |
          <span><%= line.radio_button :hotspot, 15.0 %> 15GB</span>
      </li>
        <br>
      <li>
        <div><%= line.label :hd_video, "Does this line need HD-Video?" %></div>
          <span><%= line.radio_button :hd_video, true, checked: true %> Yes</span> |
          <span><%= line.radio_button :hd_video, false %> No</span>
      </li>
    <br>
    <p><%= link_to_remove_association 'Remove Line', f %></p>
    <hr>
    <% end %>

    <div>
      <%= link_to_add_association 'Add Line', f, :user_lines %>
    </div>
  </ul>
  

  <div class="actions">
    <%= f.submit 'Save', class: 'btn btn-primary' %>
  </div>
<% end %>